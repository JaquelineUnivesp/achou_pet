{% if request.user.is_authenticated %}
<style>
    #sidebar {
        width: 70px;
        transition: width 0.3s ease;
        background-color: white;
        height: 100vh;
        position: fixed;
        top: 0;
        left: 0;
        border-right: 1px solid #ddd;
        z-index: 1000;
        overflow-x: hidden;
    }

    #sidebar:hover {
        width: 220px;
    }

    #sidebar .nav-link {
        display: flex;
        align-items: center;
        color: #333;
        padding: 15px;
        transition: background 0.2s;
        white-space: nowrap;
        overflow: hidden;
    }

    #sidebar .nav-link:hover {
        background-color: #f4f4f4;
    }

    #sidebar svg {
        flex-shrink: 0;
        margin-right: 0;
        width: 24px;
        height: 24px;
    }

    #sidebar:hover svg {
        margin-right: 12px;
    }

    #sidebar .nav-link span {
        opacity: 0;
        transition: opacity 0.3s;
        margin-left: 8px;
    }

    #sidebar:hover .nav-link span {
        opacity: 1;
    }

    @media (max-width: 768px) {
        #sidebar {
            position: fixed;
            bottom: 0;
            top: auto;
            height: auto;
            width: 100%;
            display: flex;
            flex-direction: row;
            border-top: 1px solid #ddd;
            border-right: none;
        }

        #sidebar .nav-pills {
            flex-direction: row;
            width: 100%;
            justify-content: space-around;
        }

        #sidebar .nav-item {
            flex-grow: 1;
        }

        #sidebar .nav-link {
            flex-direction: column;
            justify-content: center;
            padding: 10px 0;
        }

        #sidebar .nav-link span {
            display: block;
            opacity: 1;
            margin: 0;
            font-size: 12px;
        }

        #sidebar:hover {
            width: 100%;
        }
    }
</style>

<div id="sidebar">
    <ul class="nav nav-pills flex-column mb-auto">

        <li class="nav-item">
            <a class="nav-link">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 3l10 9h-3v9h-6v-6H11v6H5v-9H2z" />
                </svg>
                <span>Início</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C6.48 2 2 6.48 2 12c0 3.76 2.44 6.92 5.84 8.26.42.08.58-.18.58-.4v-1.41c-2.38.52-2.87-1.12-2.87-1.12-.38-.97-.93-1.23-.93-1.23-.76-.52.06-.51.06-.51.84.06 1.29.86 1.29.86.75 1.28 1.97.91 2.45.7.08-.55.3-.91.54-1.12-1.9-.22-3.9-.95-3.9-4.23 0-.93.34-1.68.88-2.27-.09-.22-.38-1.11.08-2.31 0 0 .71-.23 2.33.88a8.2 8.2 0 0 1 4.24 0c1.61-1.1 2.33-.88 2.33-.88.46 1.2.17 2.09.08 2.31.55.6.88 1.34.88 2.27 0 3.29-2 4-3.91 4.22.31.27.58.81.58 1.63v2.42c0 .23.16.49.59.4C19.57 18.92 22 15.76 22 12c0-5.52-4.48-10-10-10z"/>
                </svg>
                <span>Perfil</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10zm0-17c.55 0 1 .45 1 1v4h3c.55 0 1 .45 1 1s-.45 1-1 1h-4V6c0-.55.45-1 1-1z" />
                </svg>
                <span>Criar</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zM18 16v-5c0-2.76-1.69-5.26-4.22-6.17C13.5 4.17 13 3.6 13 3V2c0-.55-.45-1-1-1s-1 .45-1 1v1c0 .6-.5 1.17-1.78 1.83C7.69 5.74 6 8.24 6 11v5l-1.29 1.29A.996.996 0 0 0 5 19h14c.89 0 1.34-1.08.71-1.71L18 16z"/>
                </svg>
                <span>Notificações</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link position-relative">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20 2H4c-1.1 0-2 .9-2 2v20l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/>
                </svg>
                <span>Mensagens</span>
                <span class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light rounded-circle"></span>
            </a>
        </li>

        <li class="nav-item mt-auto">
            <a class="nav-link">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19.14 12.936c.036-.3.056-.606.056-.936s-.02-.636-.056-.936l2.03-1.58a.5.5 0 0 0 .11-.65l-1.928-3.34a.5.5 0 0 0-.612-.21l-2.39.96a7.042 7.042 0 0 0-1.62-.94l-.36-2.47a.5.5 0 0 0-.49-.41h-3.84a.5.5 0 0 0-.49.41l-.36 2.47a7.042 7.042 0 0 0-1.62.94l-2.39-.96a.5.5 0 0 0-.612.21l-1.928 3.34a.5.5 0 0 0 .11.65l2.03 1.58c-.036.3-.056.606-.056.936s.02.636.056.936l-2.03 1.58a.5.5 0 0 0-.11.65l1.928 3.34c.13.224.396.31.612.21l2.39-.96c.48.38 1.014.696 1.62.94l.36 2.47c.056.32.364.41.49.41h3.84c.126 0 .434-.09.49-.41l.36-2.47c.606-.244 1.14-.56 1.62-.94l2.39.96a.5.5 0 0 0 .612-.21l1.928-3.34a.5.5 0 0 0-.11-.65l-2.03-1.58zM12 15.5A3.5 3.5 0 1 1 15.5 12 3.504 3.504 0 0 1 12 15.5z"/>
                </svg>
                <span>Configurações</span>
            </a>
        </li>
    </ul>
</div>
{% endif %}
